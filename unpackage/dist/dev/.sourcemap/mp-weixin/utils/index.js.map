{"version":3,"file":"index.js","sources":["utils/index.js"],"sourcesContent":["export const isCurrentPage = (pagePath) => {\r\n\tconst pages = getCurrentPages(); // 获取当前页面栈\r\n\tif (pages.length === 0) return false;\r\n\tconst currentPage = pages[pages.length - 1];\r\n\treturn `/${currentPage.route}` === pagePath;\r\n};\r\nexport const goTo = (url, t = 'redirect') => {\r\n\tif (isCurrentPage(url)) return\r\n\tswitch (t) {\r\n\t\tcase \"navigate\":\r\n\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\tcase \"redirect\":\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t}\r\n}\r\nexport const goBack = () => {\r\n\tuni.navigateBack()\r\n}\r\nexport const previewImage = (data, index) => {\r\n\tuni.previewImage({\r\n\t\tcurrent: index,\r\n\t\turls: data.map(img => img.url) // 假设images是图片数组\r\n\t});\r\n}\r\nimport dayjs from 'dayjs'\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\nimport 'dayjs/locale/zh-cn'\r\n\r\ndayjs.extend(relativeTime)\r\ndayjs.locale('zh-cn')\r\n\r\nexport const fromNow = (date) => {\r\n\treturn dayjs(new Date(date)).fromNow()\r\n}\r\n\r\n// 状态栏高度\r\nexport const statusHeight = uni.getSystemInfoSync().statusBarHeight;\r\n\r\n// 导航栏信息\r\nexport const menuButtonInfo = uni.getMenuButtonBoundingClientRect();\r\n// 导航栏高度--导航栏高度默认44\r\nexport const navHeight = menuButtonInfo.height + (menuButtonInfo.top - statusHeight) * 2;\r\n\r\n// 状态栏高度+导航栏高度\r\nexport const stickyHeight = statusHeight + navHeight"],"names":["uni","dayjs","relativeTime"],"mappings":";;AAAY,MAAC,gBAAgB,CAAC,aAAa;AAC1C,QAAM,QAAQ;AACd,MAAI,MAAM,WAAW;AAAG,WAAO;AAC/B,QAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAC1C,SAAO,IAAI,YAAY,KAAK,OAAO;AACpC;AACY,MAAC,OAAO,CAAC,KAAK,IAAI,eAAe;AAC5C,MAAI,cAAc,GAAG;AAAG;AACxB,UAAQ,GAAC;AAAA,IACR,KAAK;AAEJA,oBAAAA,MAAI,WAAW;AAAA,QACd;AAAA,MACJ,CAAI;AACD;AAAA,IACD,KAAK;AACJA,oBAAAA,MAAI,WAAW;AAAA,QACd;AAAA,MACJ,CAAI;AACD;AAAA,EACD;AACF;AACY,MAAC,SAAS,MAAM;AAC3BA,gBAAAA,MAAI,aAAc;AACnB;AACY,MAAC,eAAe,CAAC,MAAM,UAAU;AAC5CA,gBAAAA,MAAI,aAAa;AAAA,IAChB,SAAS;AAAA,IACT,MAAM,KAAK,IAAI,SAAO,IAAI,GAAG;AAAA;AAAA,EAC/B,CAAE;AACF;AAKAC,cAAAA,MAAM,OAAOC,cAAAA,YAAY;AACzBD,cAAAA,MAAM,OAAO,OAAO;AAER,MAAC,UAAU,CAAC,SAAS;AAChC,SAAOA,cAAK,MAAC,IAAI,KAAK,IAAI,CAAC,EAAE,QAAS;AACvC;AAGY,MAAC,eAAeD,cAAAA,MAAI,kBAAiB,EAAG;AAG7C,MAAM,iBAAiBA,cAAAA,MAAI;AAE3B,MAAM,YAAY,eAAe,UAAU,eAAe,MAAM,gBAAgB;AAG3E,MAAC,eAAe,eAAe;;;;;;;;"}